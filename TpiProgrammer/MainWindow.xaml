<Window x:Class="TpiProgrammer.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:viewModel="clr-namespace:TpiProgrammer.ViewModel"
        Title="MainWindow" Height="350" Width="525">
    <Window.DataContext>
        <viewModel:MainWindowViewModel/>
    </Window.DataContext>
    <DockPanel>
        <StackPanel DockPanel.Dock="Top" Orientation="Horizontal">
            <Label Content="TpiCommunications:"/>
            <ComboBox ItemsSource="{Binding Programmers}" 
                      SelectedItem="{Binding SelectedProgrammer.Value}"
                      MinWidth="200">
                <ComboBox.ItemTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding Description}"/>
                    </DataTemplate>
                </ComboBox.ItemTemplate>
            </ComboBox>
            <Button Command="{Binding OpenSelectedProgrammerCommand}" Content="Open"
                    Margin="4,2"/>
            
        </StackPanel>
        <Grid DockPanel.Dock="Top">
            <Grid.RowDefinitions>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="auto"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="auto"/>
                <ColumnDefinition Width="auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <TextBlock Grid.Column="0" Grid.Row="0" Text="TpiCommunication:"/>
            <TextBlock Grid.Column="1" Grid.Row="0"  Grid.ColumnSpan="2" Text="{Binding CurrentProgrammer.Value.Description}"/>
            <TextBlock Grid.Column="0" Grid.Row="1" Text="Device:"/>
            <Button Grid.Column="1" Grid.Row="1" Content="Connect" Command="{Binding ConnectToDeviceCommand}"/>
            <TextBlock Grid.Column="2" Grid.Row="1">
                <Run Text="{Binding Path=TargetDeviceSignature.Value.ManufacturerId, StringFormat={}{0:X02}}"/>
                <Run Text="{Binding Path=TargetDeviceSignature.Value.DeviceId1, StringFormat={}{0:X02}}"/>
                <Run Text="{Binding Path=TargetDeviceSignature.Value.DeviceId2, StringFormat={}{0:X02}}"/>
            </TextBlock>
        </Grid>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <TextBox Grid.Column="0" VerticalAlignment="Top" Text="{Binding FileToProgram.Value}"/>
            <Button Grid.Column="1" VerticalAlignment="Top" Command="{Binding ProgramToDeviceCommand}">Program</Button>
        </Grid>
    </DockPanel>
</Window>
